!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1)),o=r(n(3));class a{constructor(e,t,n={dx:10*Math.random()-5,dy:10*Math.random()-5}){this.radius=e,this.color=t,this._location={x:300,y:200},this.velocity=n}update(){const{dx:e,dy:t}=this.velocity,{x:n,y:r}=this._location;this._location={x:e+n,y:t+r}}bounceX(){this.velocity.dx*=-1}bounceY(){this.velocity.dy*=-1}get location(){return this._location}}class u{constructor(){this.canvas=document.createElement("canvas"),this.circles=[],this.dimension={width:768,height:512},this.drawCircle=function(e){const{location:{x:t,y:n},radius:r,color:i}=e;this.fillStyle=i,this.beginPath(),this.arc(t,n,r,0,2*Math.PI),this.fill()}.bind(this.context),this.updateCircle=function(e){const{location:{x:t,y:n},radius:r}=e,{width:i,height:o}=this;(t+r>=i||t-r<=0)&&e.bounceX(),(n+r>=o||n-r<=0)&&e.bounceY(),e.update()}.bind(this.dimension);const e=document.getElementById("app-container"),t=window.devicePixelRatio,{width:n,height:r}=this.dimension;this.canvas.width=n*t,this.canvas.height=r*t,this.canvas.id="main-canvas",this.context.scale(t,t),this.canvas.tabIndex=1,this.canvas.autofocus=!0,e.appendChild(this.canvas);const i=document.createElement("button");i.onclick=this.addCircle.bind(this),i.innerText="Add Circle",e.appendChild(i);const a=document.createElement("button");a.onclick=this.removeCircle.bind(this),a.innerText="Remove Circle",e.appendChild(a);const u=o.default(e=>{e.isComposing||(" "===e.key?this.addCircle():"Backspace"===e.key&&this.removeCircle())},50);this.canvas.addEventListener("keydown",u)}addCircle(){this.circles.push(new a(10*Math.random()+10,i.default()))}removeCircle(){this.circles.pop()}get context(){return this.canvas.getContext("2d")}render(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.circles.forEach(e=>{this.updateCircle(e),this.drawCircle(e)}),requestAnimationFrame(()=>this.render())}}document.addEventListener("DOMContentLoaded",(function(){(new u).render()}))},function(e,t,n){(function(e){var n;n=function(){var e=null,t={};a("monochrome",null,[[0,0],[100,0]]),a("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),a("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),a("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),a("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),a("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),a("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),a("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var n=[],r=function(a){if(void 0!==(a=a||{}).seed&&null!==a.seed&&a.seed===parseInt(a.seed,10))e=a.seed;else if("string"==typeof a.seed)e=function(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}(a.seed);else{if(void 0!==a.seed&&null!==a.seed)throw new TypeError("The seed value must be an integer or string");e=null}var l,f;if(null!==a.count&&void 0!==a.count){for(var h=a.count,d=[],v=0;v<a.count;v++)n.push(!1);for(a.count=null;h>d.length;)e&&a.seed&&(a.seed+=1),d.push(r(a));return a.count=h,d}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return s(e);case"hsl":var n=s(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=s(e),i=t.alpha||Math.random();return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+i+")";case"rgbArray":return u(e);case"rgb":return"rgb("+u(e).join(", ")+")";case"rgba":var o=u(e);return i=t.alpha||Math.random(),"rgba("+o.join(", ")+", "+i+")";default:return function(e){var t=u(e);function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(t[0])+n(t[1])+n(t[2])}(e)}}([l=function(e){if(n.length>0){var r=o(f=function(e){if(isNaN(e)){if("string"==typeof e)if(t[e]){var n=t[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return i(c(e)[0]).hueRange}else{var r=parseInt(e);if(r<360&&r>0)return i(e).hueRange}return[0,360]}(e.hue)),a=(f[1]-f[0])/n.length,u=parseInt((r-f[0])/a);!0===n[u]?u=(u+2)%n.length:n[u]=!0;var s=(f[0]+u*a)%359,l=(f[0]+(u+1)*a)%359;return(r=o(f=[s,l]))<0&&(r=360+r),r}var f=function(e){if("number"==typeof parseInt(e)){var n=parseInt(e);if(n<360&&n>0)return[n,n]}if("string"==typeof e)if(t[e]){var r=t[e];if(r.hueRange)return r.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=c(e)[0];return[i,i]}return[0,360]}(e.hue);return(r=o(f))<0&&(r=360+r),r}(a),f=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return o([0,100]);var n=function(e){return i(e).saturationRange}(e),r=n[0],a=n[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=a-10;break;case"light":a=55}return o([r,a])}(l,a),function(e,t,n){var r=function(e,t){for(var n=i(e).lowerBounds,r=0;r<n.length-1;r++){var o=n[r][0],a=n[r][1],u=n[r+1][0],c=n[r+1][1];if(t>=o&&t<=u){var s=(c-a)/(u-o);return s*t+(a-s*o)}}return 0}(e,t),a=100;switch(n.luminosity){case"dark":a=r+20;break;case"light":r=(a+r)/2;break;case"random":r=0,a=100}return o([r,a])}(l,f,a)],a)};function i(e){for(var n in e>=334&&e<=360&&(e-=360),t){var r=t[n];if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return t[n]}return"Color not found"}function o(t){if(null===e){var n=Math.random();return n+=.618033988749895,n%=1,Math.floor(t[0]+n*(t[1]+1-t[0]))}var r=t[1]||1,i=t[0]||0,o=(e=(9301*e+49297)%233280)/233280;return Math.floor(i+o*(r-i))}function a(e,n,r){var i=r[0][0],o=r[r.length-1][0],a=r[r.length-1][1],u=r[0][1];t[e]={hueRange:n,lowerBounds:r,saturationRange:[i,o],brightnessRange:[a,u]}}function u(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,r=e[2]/100,i=Math.floor(6*t),o=6*t-i,a=r*(1-n),u=r*(1-o*n),c=r*(1-(1-o)*n),s=256,l=256,f=256;switch(i){case 0:s=r,l=c,f=a;break;case 1:s=u,l=r,f=a;break;case 2:s=a,l=r,f=c;break;case 3:s=a,l=u,f=r;break;case 4:s=c,l=a,f=r;break;case 5:s=r,l=a,f=u}return[Math.floor(255*s),Math.floor(255*l),Math.floor(255*f)]}function c(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,r=parseInt(e.substr(4,2),16)/255,i=Math.max(t,n,r),o=i-Math.min(t,n,r),a=i?o/i:0;switch(i){case t:return[(n-r)/o%6*60||0,a,i];case n:return[60*((r-t)/o+2)||0,a,i];case r:return[60*((t-n)/o+4)||0,a,i]}}function s(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=(2-n)*r;return[t,Math.round(n*r/(i<1?i:2-i)*1e4)/100,i/2*100]}return r}(),e&&e.exports&&(t=e.exports=n),t.randomColor=n}).call(this,n(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,s=u||c||Function("return this")(),l=Object.prototype.toString,f=Math.max,h=Math.min,d=function(){return s.Date.now()};function v(e,t,n){var r,i,o,a,u,c,s=0,l=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,o=i;return r=i=void 0,s=t,a=e.apply(o,n)}function y(e){return s=e,u=setTimeout(x,t),l?m(e):a}function w(e){var n=e-c;return void 0===c||n>=t||n<0||v&&e-s>=o}function x(){var e=d();if(w(e))return M(e);u=setTimeout(x,function(e){var n=t-(e-c);return v?h(n,o-(e-s)):n}(e))}function M(e){return u=void 0,b&&r?m(e):(r=i=void 0,a)}function j(){var e=d(),n=w(e);if(r=arguments,i=this,c=e,n){if(void 0===u)return y(c);if(v)return u=setTimeout(x,t),m(c)}return void 0===u&&(u=setTimeout(x,t)),a}return t=g(t)||0,p(n)&&(l=!!n.leading,o=(v="maxWait"in n)?f(g(n.maxWait)||0,t):o,b="trailing"in n?!!n.trailing:b),j.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=c=i=u=void 0},j.flush=function(){return void 0===u?a:M(d())},j}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var u=i.test(e);return u||o.test(e)?a(e.slice(2),u?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return p(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),v(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(4))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYW5kb21jb2xvci9yYW5kb21Db2xvci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gudGhyb3R0bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNpcmNsZSIsInJhZGl1cyIsImNvbG9yIiwidmVsb2NpdHkiLCJkeCIsIk1hdGgiLCJyYW5kb20iLCJkeSIsInRoaXMiLCJfbG9jYXRpb24iLCJ4IiwieSIsIkFwcCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNpcmNsZXMiLCJkaW1lbnNpb24iLCJ3aWR0aCIsImhlaWdodCIsImRyYXdDaXJjbGUiLCJjaXJjbGUiLCJsb2NhdGlvbiIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwiZmlsbCIsImNvbnRleHQiLCJ1cGRhdGVDaXJjbGUiLCJib3VuY2VYIiwiYm91bmNlWSIsInVwZGF0ZSIsImFwcENvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiZHByIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImlkIiwic2NhbGUiLCJ0YWJJbmRleCIsImF1dG9mb2N1cyIsImFwcGVuZENoaWxkIiwiYWRkQ2lyY2xlQnV0dG9uIiwib25jbGljayIsImFkZENpcmNsZSIsImlubmVyVGV4dCIsInJlbW92ZUNpcmNsZUJ1dHRvbiIsInJlbW92ZUNpcmNsZSIsInRocm90dGxlZEhhbmRsZXIiLCJldmVudCIsImlzQ29tcG9zaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInB1c2giLCJwb3AiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiZm9yRWFjaCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbmRlciIsInJhbmRvbUNvbG9yIiwic2VlZCIsImNvbG9yRGljdGlvbmFyeSIsImRlZmluZUNvbG9yIiwiY29sb3JSYW5nZXMiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwicGFyc2VJbnQiLCJzdHJpbmciLCJ0b3RhbCIsImxlbmd0aCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJjaGFyQ29kZUF0Iiwic3RyaW5nVG9JbnRlZ2VyIiwiVHlwZUVycm9yIiwiSCIsIlMiLCJjb3VudCIsInRvdGFsQ29sb3JzIiwiY29sb3JzIiwiaHN2IiwiZm9ybWF0IiwiSFNWdG9IU0wiLCJoc2wiLCJoc2xDb2xvciIsImFscGhhIiwiSFNWdG9SR0IiLCJqb2luIiwicmdiQ29sb3IiLCJyZ2IiLCJjb21wb25lbnRUb0hleCIsImhleCIsInRvU3RyaW5nIiwiSFNWdG9IZXgiLCJzZXRGb3JtYXQiLCJodWUiLCJyYW5kb21XaXRoaW4iLCJodWVSYW5nZSIsImNvbG9ySHVlIiwiaXNOYU4iLCJtYXRjaCIsImdldENvbG9ySW5mbyIsIkhleFRvSFNCIiwibnVtYmVyIiwiZ2V0UmVhbEh1ZVJhbmdlIiwic3RlcCIsImoiLCJtaW4iLCJtYXgiLCJjb2xvcklucHV0IiwiZ2V0SHVlUmFuZ2UiLCJwaWNrSHVlIiwibHVtaW5vc2l0eSIsInNhdHVyYXRpb25SYW5nZSIsImdldFNhdHVyYXRpb25SYW5nZSIsInNNaW4iLCJzTWF4IiwicGlja1NhdHVyYXRpb24iLCJiTWluIiwibG93ZXJCb3VuZHMiLCJzMSIsInYxIiwiczIiLCJ2MiIsImdldE1pbmltdW1CcmlnaHRuZXNzIiwiYk1heCIsInBpY2tCcmlnaHRuZXNzIiwiY29sb3JOYW1lIiwicmFuZ2UiLCJmbG9vciIsInJuZCIsImJyaWdodG5lc3NSYW5nZSIsImgiLCJ2IiwiaF9pIiwiZiIsInEiLCJnIiwiYiIsInJlcGxhY2UiLCJyZWQiLCJzdWJzdHIiLCJncmVlbiIsImJsdWUiLCJjTWF4IiwiZGVsdGEiLCJzYXR1cmF0aW9uIiwiayIsInJvdW5kIiwiZmFjdG9yeSIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJyZVRyaW0iLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsImZyZWVQYXJzZUludCIsImZyZWVHbG9iYWwiLCJnbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiRnVuY3Rpb24iLCJvYmplY3RUb1N0cmluZyIsIm5hdGl2ZU1heCIsIm5hdGl2ZU1pbiIsIm5vdyIsIkRhdGUiLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJyZXN1bHQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwidHJhaWxpbmciLCJpbnZva2VGdW5jIiwidGltZSIsImFyZ3MiLCJ0aGlzQXJnIiwiYXBwbHkiLCJsZWFkaW5nRWRnZSIsInNldFRpbWVvdXQiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwiYXJndW1lbnRzIiwidG9OdW1iZXIiLCJpc09iamVjdCIsImNhbmNlbCIsImNsZWFyVGltZW91dCIsImZsdXNoIiwidHlwZSIsImlzT2JqZWN0TGlrZSIsImlzU3ltYm9sIiwib3RoZXIiLCJ2YWx1ZU9mIiwiaXNCaW5hcnkiLCJ0ZXN0Iiwic2xpY2UiLCJlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVV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QSxFQUNFLFNBQ0EsQ0FBQyxHQUFHLElBQ0osQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksTUFHekRBLEVBQ0UsU0FDQSxDQUFDLEdBQUcsSUFDSixDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxNQUdqRUEsRUFDRSxRQUNBLENBQUMsR0FBRyxLQUNKLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLE1BR2pFQSxFQUNFLE9BQ0EsQ0FBQyxJQUFLLEtBQ04sQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksTUFHekVBLEVBQ0UsU0FDQSxDQUFDLElBQUssS0FDTixDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxNQUd6RUEsRUFDRSxPQUNBLENBQUMsSUFBSyxLQUNOLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FB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dEcsUUFPckNyRSxFQUFPRCxRQUFVNEsiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHJhbmRvbUNvbG9yIGZyb20gJ3JhbmRvbWNvbG9yJztcbmltcG9ydCB0aHJvdHRsZSBmcm9tIFwibG9kYXNoLnRocm90dGxlXCI7XG5cbmNsYXNzIENpcmNsZSB7XG5cbiAgcmVhZG9ubHkgcmFkaXVzOiBudW1iZXI7XG4gIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmc7XG4gIHByaXZhdGUgX2xvY2F0aW9uOiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH07XG4gIHJlYWRvbmx5IHZlbG9jaXR5OiB7IGR4OiBudW1iZXIsIGR5OiBudW1iZXIgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICByYWRpdXM6IG51bWJlcixcbiAgICBjb2xvcjogc3RyaW5nLFxuICAgIHZlbG9jaXR5OiB7IGR4OiBudW1iZXIsIGR5OiBudW1iZXIgfSA9IHsgZHg6IE1hdGgucmFuZG9tKCkgKiAxMCAtIDUsIGR5OiBNYXRoLnJhbmRvbSgpICogMTAgLSA1IH1cbiAgKSB7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgIHRoaXMuX2xvY2F0aW9uID0geyB4OiAzMDAsIHk6IDIwMCB9O1xuICAgIHRoaXMudmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCB7IGR4LCBkeSB9ID0gdGhpcy52ZWxvY2l0eTtcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuX2xvY2F0aW9uO1xuICAgIHRoaXMuX2xvY2F0aW9uID0geyB4OiBkeCArIHgsIHk6IGR5ICsgeSB9O1xuICB9XG5cbiAgYm91bmNlWCgpIHtcbiAgICB0aGlzLnZlbG9jaXR5LmR4ICo9IC0xO1xuICB9XG5cbiAgYm91bmNlWSgpIHtcbiAgICB0aGlzLnZlbG9jaXR5LmR5ICo9IC0xO1xuICB9XG5cblxuICBnZXQgbG9jYXRpb24oKTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYXRpb247XG4gIH1cblxufVxuXG5jbGFzcyBBcHAge1xuXG4gIHByaXZhdGUgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgcHJpdmF0ZSBjaXJjbGVzOiBDaXJjbGVbXSA9IFtdO1xuICBwcml2YXRlIGRpbWVuc2lvbiA9IHsgd2lkdGg6IDc2OCwgaGVpZ2h0OiA1MTIgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIGNvbnN0IGFwcENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwLWNvbnRhaW5lclwiKSE7XG5cbiAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuZGltZW5zaW9uO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiBkcHI7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogZHByO1xuICAgIHRoaXMuY2FudmFzLmlkID0gXCJtYWluLWNhbnZhc1wiO1xuICAgIHRoaXMuY29udGV4dC5zY2FsZShkcHIsIGRwcik7XG4gICAgdGhpcy5jYW52YXMudGFiSW5kZXggPSAxO1xuICAgIHRoaXMuY2FudmFzLmF1dG9mb2N1cyA9IHRydWU7XG4gICAgYXBwQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcblxuICAgIGNvbnN0IGFkZENpcmNsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYWRkQ2lyY2xlQnV0dG9uLm9uY2xpY2sgPSB0aGlzLmFkZENpcmNsZS5iaW5kKHRoaXMpO1xuICAgIGFkZENpcmNsZUJ1dHRvbi5pbm5lclRleHQgPSBcIkFkZCBDaXJjbGVcIjtcbiAgICBhcHBDb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkQ2lyY2xlQnV0dG9uKTtcblxuICAgIGNvbnN0IHJlbW92ZUNpcmNsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcmVtb3ZlQ2lyY2xlQnV0dG9uLm9uY2xpY2sgPSB0aGlzLnJlbW92ZUNpcmNsZS5iaW5kKHRoaXMpO1xuICAgIHJlbW92ZUNpcmNsZUJ1dHRvbi5pbm5lclRleHQgPSBcIlJlbW92ZSBDaXJjbGVcIjtcbiAgICBhcHBDb250YWluZXIuYXBwZW5kQ2hpbGQocmVtb3ZlQ2lyY2xlQnV0dG9uKTtcblxuICAgIGNvbnN0IGhhbmRsZXIgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5pc0NvbXBvc2luZykgcmV0dXJuO1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgIHRoaXMuYWRkQ2lyY2xlKCk7XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ0JhY2tzcGFjZScpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDaXJjbGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdGhyb3R0bGVkSGFuZGxlciA9IHRocm90dGxlKGhhbmRsZXIsIDUwKTtcblxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRocm90dGxlZEhhbmRsZXIpO1xuICB9XG5cbiAgcHVibGljIGFkZENpcmNsZSgpIHtcbiAgICB0aGlzLmNpcmNsZXMucHVzaChuZXcgQ2lyY2xlKE1hdGgucmFuZG9tKCkgKiAxMCArIDEwLCByYW5kb21Db2xvcigpKSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlQ2lyY2xlKCkge1xuICAgIHRoaXMuY2lyY2xlcy5wb3AoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IGNvbnRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSFcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0NpcmNsZSA9IGZ1bmN0aW9uICh0aGlzOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNpcmNsZTogQ2lyY2xlKSB7XG4gICAgY29uc3QgeyBsb2NhdGlvbjogeyB4LCB5IH0sIHJhZGl1cywgY29sb3IgfSA9IGNpcmNsZTtcbiAgICB0aGlzLmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIHRoaXMuYmVnaW5QYXRoKCk7XG4gICAgdGhpcy5hcmMoeCwgeSwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgdGhpcy5maWxsKCk7XG4gIH0uYmluZCh0aGlzLmNvbnRleHQpO1xuXG4gIHByaXZhdGUgdXBkYXRlQ2lyY2xlID0gZnVuY3Rpb24gKHRoaXM6IHsgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIgfSwgY2lyY2xlOiBDaXJjbGUpIHtcbiAgICBjb25zdCB7IGxvY2F0aW9uOiB7IHgsIHkgfSwgcmFkaXVzIH0gPSBjaXJjbGU7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzO1xuICAgIGlmICh4ICsgcmFkaXVzID49IHdpZHRoIHx8IHggLSByYWRpdXMgPD0gMCkgY2lyY2xlLmJvdW5jZVgoKTtcbiAgICBpZiAoeSArIHJhZGl1cyA+PSBoZWlnaHQgfHwgeSAtIHJhZGl1cyA8PSAwKSBjaXJjbGUuYm91bmNlWSgpO1xuICAgIGNpcmNsZS51cGRhdGUoKTtcbiAgfS5iaW5kKHRoaXMuZGltZW5zaW9uKTtcblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjaXJjbGUgPT4ge1xuICAgICAgdGhpcy51cGRhdGVDaXJjbGUoY2lyY2xlKTtcbiAgICAgIHRoaXMuZHJhd0NpcmNsZShjaXJjbGUpO1xuICAgIH0pO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnJlbmRlcigpKTtcbiAgfVxuXG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gIG5ldyBBcHAoKS5yZW5kZXIoKTtcbn0pO1xuIiwiLy8gcmFuZG9tQ29sb3IgYnkgRGF2aWQgTWVyZmllbGQgdW5kZXIgdGhlIENDMCBsaWNlbnNlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRtZXJmaWVsZC9yYW5kb21Db2xvci9cblxuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG5cbiAgLy8gU3VwcG9ydCBDb21tb25KU1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIHJhbmRvbUNvbG9yID0gZmFjdG9yeSgpO1xuXG4gICAgLy8gU3VwcG9ydCBOb2RlSlMgJiBDb21wb25lbnQsIHdoaWNoIGFsbG93IG1vZHVsZS5leHBvcnRzIHRvIGJlIGEgZnVuY3Rpb25cbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByYW5kb21Db2xvcjtcbiAgICB9XG5cbiAgICAvLyBTdXBwb3J0IENvbW1vbkpTIDEuMS4xIHNwZWNcbiAgICBleHBvcnRzLnJhbmRvbUNvbG9yID0gcmFuZG9tQ29sb3I7XG5cbiAgLy8gU3VwcG9ydCBBTURcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuXG4gIC8vIFN1cHBvcnQgdmFuaWxsYSBzY3JpcHQgbG9hZGluZ1xuICB9IGVsc2Uge1xuICAgIHJvb3QucmFuZG9tQ29sb3IgPSBmYWN0b3J5KCk7XG4gIH1cblxufSh0aGlzLCBmdW5jdGlvbigpIHtcblxuICAvLyBTZWVkIHRvIGdldCByZXBlYXRhYmxlIGNvbG9yc1xuICB2YXIgc2VlZCA9IG51bGw7XG5cbiAgLy8gU2hhcmVkIGNvbG9yIGRpY3Rpb25hcnlcbiAgdmFyIGNvbG9yRGljdGlvbmFyeSA9IHt9O1xuXG4gIC8vIFBvcHVsYXRlIHRoZSBjb2xvciBkaWN0aW9uYXJ5XG4gIGxvYWRDb2xvckJvdW5kcygpO1xuXG4gIC8vIGNoZWNrIGlmIGEgcmFuZ2UgaXMgdGFrZW5cbiAgdmFyIGNvbG9yUmFuZ2VzID0gW107XG5cbiAgdmFyIHJhbmRvbUNvbG9yID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzZWVkIGFuZCBlbnN1cmUgaXQncyBhblxuICAgIC8vIGludGVnZXIuIE90aGVyd2lzZSwgcmVzZXQgdGhlIHNlZWQgdmFsdWUuXG4gICAgaWYgKG9wdGlvbnMuc2VlZCAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuc2VlZCAhPT0gbnVsbCAmJiBvcHRpb25zLnNlZWQgPT09IHBhcnNlSW50KG9wdGlvbnMuc2VlZCwgMTApKSB7XG4gICAgICBzZWVkID0gb3B0aW9ucy5zZWVkO1xuXG4gICAgLy8gQSBzdHJpbmcgd2FzIHBhc3NlZCBhcyBhIHNlZWRcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLnNlZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzZWVkID0gc3RyaW5nVG9JbnRlZ2VyKG9wdGlvbnMuc2VlZCk7XG5cbiAgICAvLyBTb21ldGhpbmcgd2FzIHBhc3NlZCBhcyBhIHNlZWQgYnV0IGl0IHdhc24ndCBhbiBpbnRlZ2VyIG9yIHN0cmluZ1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5zZWVkICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5zZWVkICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgc2VlZCB2YWx1ZSBtdXN0IGJlIGFuIGludGVnZXIgb3Igc3RyaW5nJyk7XG5cbiAgICAvLyBObyBzZWVkLCByZXNldCB0aGUgdmFsdWUgb3V0c2lkZS5cbiAgICB9IGVsc2Uge1xuICAgICAgc2VlZCA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIEgsUyxCO1xuXG4gICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byBnZW5lcmF0ZSBtdWx0aXBsZSBjb2xvcnNcbiAgICBpZiAob3B0aW9ucy5jb3VudCAhPT0gbnVsbCAmJiBvcHRpb25zLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgdmFyIHRvdGFsQ29sb3JzID0gb3B0aW9ucy5jb3VudCxcbiAgICAgICAgICBjb2xvcnMgPSBbXTtcbiAgICAgIC8vIFZhbHVlIGZhbHNlIGF0IGluZGV4IGkgbWVhbnMgdGhlIHJhbmdlIGkgaXMgbm90IHRha2VuIHlldC5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5jb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbG9yUmFuZ2VzLnB1c2goZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIG9wdGlvbnMuY291bnQgPSBudWxsO1xuXG4gICAgICB3aGlsZSAodG90YWxDb2xvcnMgPiBjb2xvcnMubGVuZ3RoKSB7XG5cbiAgICAgICAgLy8gU2luY2Ugd2UncmUgZ2VuZXJhdGluZyBtdWx0aXBsZSBjb2xvcnMsXG4gICAgICAgIC8vIGluY3JlbWVtZW50IHRoZSBzZWVkLiBPdGhlcndpc2Ugd2UnZCBqdXN0XG4gICAgICAgIC8vIGdlbmVyYXRlIHRoZSBzYW1lIGNvbG9yIGVhY2ggdGltZS4uLlxuICAgICAgICBpZiAoc2VlZCAmJiBvcHRpb25zLnNlZWQpIG9wdGlvbnMuc2VlZCArPSAxO1xuXG4gICAgICAgIGNvbG9ycy5wdXNoKHJhbmRvbUNvbG9yKG9wdGlvbnMpKTtcbiAgICAgIH1cblxuICAgICAgb3B0aW9ucy5jb3VudCA9IHRvdGFsQ29sb3JzO1xuXG4gICAgICByZXR1cm4gY29sb3JzO1xuICAgIH1cblxuICAgIC8vIEZpcnN0IHdlIHBpY2sgYSBodWUgKEgpXG4gICAgSCA9IHBpY2tIdWUob3B0aW9ucyk7XG5cbiAgICAvLyBUaGVuIHVzZSBIIHRvIGRldGVybWluZSBzYXR1cmF0aW9uIChTKVxuICAgIFMgPSBwaWNrU2F0dXJhdGlvbihILCBvcHRpb25zKTtcblxuICAgIC8vIFRoZW4gdXNlIFMgYW5kIEggdG8gZGV0ZXJtaW5lIGJyaWdodG5lc3MgKEIpLlxuICAgIEIgPSBwaWNrQnJpZ2h0bmVzcyhILCBTLCBvcHRpb25zKTtcblxuICAgIC8vIFRoZW4gd2UgcmV0dXJuIHRoZSBIU0IgY29sb3IgaW4gdGhlIGRlc2lyZWQgZm9ybWF0XG4gICAgcmV0dXJuIHNldEZvcm1hdChbSCxTLEJdLCBvcHRpb25zKTtcbiAgfTtcblxuICBmdW5jdGlvbiBwaWNrSHVlKG9wdGlvbnMpIHtcbiAgICBpZiAoY29sb3JSYW5nZXMubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGh1ZVJhbmdlID0gZ2V0UmVhbEh1ZVJhbmdlKG9wdGlvbnMuaHVlKVxuXG4gICAgICB2YXIgaHVlID0gcmFuZG9tV2l0aGluKGh1ZVJhbmdlKVxuXG4gICAgICAvL0VhY2ggb2YgY29sb3JSYW5nZXMubGVuZ3RoIHJhbmdlcyBoYXMgYSBsZW5ndGggZXF1YWwgYXBwcm94aW1hdGVsbHkgb25lIHN0ZXBcbiAgICAgIHZhciBzdGVwID0gKGh1ZVJhbmdlWzFdIC0gaHVlUmFuZ2VbMF0pIC8gY29sb3JSYW5nZXMubGVuZ3RoXG5cbiAgICAgIHZhciBqID0gcGFyc2VJbnQoKGh1ZSAtIGh1ZVJhbmdlWzBdKSAvIHN0ZXApXG5cbiAgICAgIC8vQ2hlY2sgaWYgdGhlIHJhbmdlIGogaXMgdGFrZW5cbiAgICAgIGlmIChjb2xvclJhbmdlc1tqXSA9PT0gdHJ1ZSkge1xuICAgICAgICBqID0gKGogKyAyKSAlIGNvbG9yUmFuZ2VzLmxlbmd0aFxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbG9yUmFuZ2VzW2pdID0gdHJ1ZVxuICAgICAgICAgICB9XG5cbiAgICAgIHZhciBtaW4gPSAoaHVlUmFuZ2VbMF0gKyBqICogc3RlcCkgJSAzNTksXG4gICAgICAgICAgbWF4ID0gKGh1ZVJhbmdlWzBdICsgKGogKyAxKSAqIHN0ZXApICUgMzU5O1xuXG4gICAgICBodWVSYW5nZSA9IFttaW4sIG1heF1cblxuICAgICAgaHVlID0gcmFuZG9tV2l0aGluKGh1ZVJhbmdlKVxuXG4gICAgICBpZiAoaHVlIDwgMCkge2h1ZSA9IDM2MCArIGh1ZTt9XG4gICAgICByZXR1cm4gaHVlXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGh1ZVJhbmdlID0gZ2V0SHVlUmFuZ2Uob3B0aW9ucy5odWUpXG5cbiAgICAgIGh1ZSA9IHJhbmRvbVdpdGhpbihodWVSYW5nZSk7XG4gICAgICAvLyBJbnN0ZWFkIG9mIHN0b3JpbmcgcmVkIGFzIHR3byBzZXBlcmF0ZSByYW5nZXMsXG4gICAgICAvLyB3ZSBncm91cCB0aGVtLCB1c2luZyBuZWdhdGl2ZSBudW1iZXJzXG4gICAgICBpZiAoaHVlIDwgMCkge1xuICAgICAgICBodWUgPSAzNjAgKyBodWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBodWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGlja1NhdHVyYXRpb24gKGh1ZSwgb3B0aW9ucykge1xuXG4gICAgaWYgKG9wdGlvbnMuaHVlID09PSAnbW9ub2Nocm9tZScpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmx1bWlub3NpdHkgPT09ICdyYW5kb20nKSB7XG4gICAgICByZXR1cm4gcmFuZG9tV2l0aGluKFswLDEwMF0pO1xuICAgIH1cblxuICAgIHZhciBzYXR1cmF0aW9uUmFuZ2UgPSBnZXRTYXR1cmF0aW9uUmFuZ2UoaHVlKTtcblxuICAgIHZhciBzTWluID0gc2F0dXJhdGlvblJhbmdlWzBdLFxuICAgICAgICBzTWF4ID0gc2F0dXJhdGlvblJhbmdlWzFdO1xuXG4gICAgc3dpdGNoIChvcHRpb25zLmx1bWlub3NpdHkpIHtcblxuICAgICAgY2FzZSAnYnJpZ2h0JzpcbiAgICAgICAgc01pbiA9IDU1O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZGFyayc6XG4gICAgICAgIHNNaW4gPSBzTWF4IC0gMTA7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdsaWdodCc6XG4gICAgICAgIHNNYXggPSA1NTtcbiAgICAgICAgYnJlYWs7XG4gICB9XG5cbiAgICByZXR1cm4gcmFuZG9tV2l0aGluKFtzTWluLCBzTWF4XSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHBpY2tCcmlnaHRuZXNzIChILCBTLCBvcHRpb25zKSB7XG5cbiAgICB2YXIgYk1pbiA9IGdldE1pbmltdW1CcmlnaHRuZXNzKEgsIFMpLFxuICAgICAgICBiTWF4ID0gMTAwO1xuXG4gICAgc3dpdGNoIChvcHRpb25zLmx1bWlub3NpdHkpIHtcblxuICAgICAgY2FzZSAnZGFyayc6XG4gICAgICAgIGJNYXggPSBiTWluICsgMjA7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdsaWdodCc6XG4gICAgICAgIGJNaW4gPSAoYk1heCArIGJNaW4pLzI7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyYW5kb20nOlxuICAgICAgICBiTWluID0gMDtcbiAgICAgICAgYk1heCA9IDEwMDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmRvbVdpdGhpbihbYk1pbiwgYk1heF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0Rm9ybWF0IChoc3YsIG9wdGlvbnMpIHtcblxuICAgIHN3aXRjaCAob3B0aW9ucy5mb3JtYXQpIHtcblxuICAgICAgY2FzZSAnaHN2QXJyYXknOlxuICAgICAgICByZXR1cm4gaHN2O1xuXG4gICAgICBjYXNlICdoc2xBcnJheSc6XG4gICAgICAgIHJldHVybiBIU1Z0b0hTTChoc3YpO1xuXG4gICAgICBjYXNlICdoc2wnOlxuICAgICAgICB2YXIgaHNsID0gSFNWdG9IU0woaHN2KTtcbiAgICAgICAgcmV0dXJuICdoc2woJytoc2xbMF0rJywgJytoc2xbMV0rJyUsICcraHNsWzJdKyclKSc7XG5cbiAgICAgIGNhc2UgJ2hzbGEnOlxuICAgICAgICB2YXIgaHNsQ29sb3IgPSBIU1Z0b0hTTChoc3YpO1xuICAgICAgICB2YXIgYWxwaGEgPSBvcHRpb25zLmFscGhhIHx8IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIHJldHVybiAnaHNsYSgnK2hzbENvbG9yWzBdKycsICcraHNsQ29sb3JbMV0rJyUsICcraHNsQ29sb3JbMl0rJyUsICcgKyBhbHBoYSArICcpJztcblxuICAgICAgY2FzZSAncmdiQXJyYXknOlxuICAgICAgICByZXR1cm4gSFNWdG9SR0IoaHN2KTtcblxuICAgICAgY2FzZSAncmdiJzpcbiAgICAgICAgdmFyIHJnYiA9IEhTVnRvUkdCKGhzdik7XG4gICAgICAgIHJldHVybiAncmdiKCcgKyByZ2Iuam9pbignLCAnKSArICcpJztcblxuICAgICAgY2FzZSAncmdiYSc6XG4gICAgICAgIHZhciByZ2JDb2xvciA9IEhTVnRvUkdCKGhzdik7XG4gICAgICAgIHZhciBhbHBoYSA9IG9wdGlvbnMuYWxwaGEgfHwgTWF0aC5yYW5kb20oKTtcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyByZ2JDb2xvci5qb2luKCcsICcpICsgJywgJyArIGFscGhhICsgJyknO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gSFNWdG9IZXgoaHN2KTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pbmltdW1CcmlnaHRuZXNzKEgsIFMpIHtcblxuICAgIHZhciBsb3dlckJvdW5kcyA9IGdldENvbG9ySW5mbyhIKS5sb3dlckJvdW5kcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG93ZXJCb3VuZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG5cbiAgICAgIHZhciBzMSA9IGxvd2VyQm91bmRzW2ldWzBdLFxuICAgICAgICAgIHYxID0gbG93ZXJCb3VuZHNbaV1bMV07XG5cbiAgICAgIHZhciBzMiA9IGxvd2VyQm91bmRzW2krMV1bMF0sXG4gICAgICAgICAgdjIgPSBsb3dlckJvdW5kc1tpKzFdWzFdO1xuXG4gICAgICBpZiAoUyA+PSBzMSAmJiBTIDw9IHMyKSB7XG5cbiAgICAgICAgIHZhciBtID0gKHYyIC0gdjEpLyhzMiAtIHMxKSxcbiAgICAgICAgICAgICBiID0gdjEgLSBtKnMxO1xuXG4gICAgICAgICByZXR1cm4gbSpTICsgYjtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SHVlUmFuZ2UgKGNvbG9ySW5wdXQpIHtcblxuICAgIGlmICh0eXBlb2YgcGFyc2VJbnQoY29sb3JJbnB1dCkgPT09ICdudW1iZXInKSB7XG5cbiAgICAgIHZhciBudW1iZXIgPSBwYXJzZUludChjb2xvcklucHV0KTtcblxuICAgICAgaWYgKG51bWJlciA8IDM2MCAmJiBudW1iZXIgPiAwKSB7XG4gICAgICAgIHJldHVybiBbbnVtYmVyLCBudW1iZXJdO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjb2xvcklucHV0ID09PSAnc3RyaW5nJykge1xuXG4gICAgICBpZiAoY29sb3JEaWN0aW9uYXJ5W2NvbG9ySW5wdXRdKSB7XG4gICAgICAgIHZhciBjb2xvciA9IGNvbG9yRGljdGlvbmFyeVtjb2xvcklucHV0XTtcbiAgICAgICAgaWYgKGNvbG9yLmh1ZVJhbmdlKSB7cmV0dXJuIGNvbG9yLmh1ZVJhbmdlO31cbiAgICAgIH0gZWxzZSBpZiAoY29sb3JJbnB1dC5tYXRjaCgvXiM/KFswLTlBLUZdezN9fFswLTlBLUZdezZ9KSQvaSkpIHtcbiAgICAgICAgdmFyIGh1ZSA9IEhleFRvSFNCKGNvbG9ySW5wdXQpWzBdO1xuICAgICAgICByZXR1cm4gWyBodWUsIGh1ZSBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbMCwzNjBdO1xuXG4gIH1cblxuICBmdW5jdGlvbiBnZXRTYXR1cmF0aW9uUmFuZ2UgKGh1ZSkge1xuICAgIHJldHVybiBnZXRDb2xvckluZm8oaHVlKS5zYXR1cmF0aW9uUmFuZ2U7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDb2xvckluZm8gKGh1ZSkge1xuXG4gICAgLy8gTWFwcyByZWQgY29sb3JzIHRvIG1ha2UgcGlja2luZyBodWUgZWFzaWVyXG4gICAgaWYgKGh1ZSA+PSAzMzQgJiYgaHVlIDw9IDM2MCkge1xuICAgICAgaHVlLT0gMzYwO1xuICAgIH1cblxuICAgIGZvciAodmFyIGNvbG9yTmFtZSBpbiBjb2xvckRpY3Rpb25hcnkpIHtcbiAgICAgICB2YXIgY29sb3IgPSBjb2xvckRpY3Rpb25hcnlbY29sb3JOYW1lXTtcbiAgICAgICBpZiAoY29sb3IuaHVlUmFuZ2UgJiZcbiAgICAgICAgICAgaHVlID49IGNvbG9yLmh1ZVJhbmdlWzBdICYmXG4gICAgICAgICAgIGh1ZSA8PSBjb2xvci5odWVSYW5nZVsxXSkge1xuICAgICAgICAgIHJldHVybiBjb2xvckRpY3Rpb25hcnlbY29sb3JOYW1lXTtcbiAgICAgICB9XG4gICAgfSByZXR1cm4gJ0NvbG9yIG5vdCBmb3VuZCc7XG4gIH1cblxuICBmdW5jdGlvbiByYW5kb21XaXRoaW4gKHJhbmdlKSB7XG4gICAgaWYgKHNlZWQgPT09IG51bGwpIHtcbiAgICAgIC8vZ2VuZXJhdGUgcmFuZG9tIGV2ZW5seSBkZXN0aW5jdCBudW1iZXIgZnJvbSA6IGh0dHBzOi8vbWFydGluLmFua2VybC5jb20vMjAwOS8xMi8wOS9ob3ctdG8tY3JlYXRlLXJhbmRvbS1jb2xvcnMtcHJvZ3JhbW1hdGljYWxseS9cbiAgICAgIHZhciBnb2xkZW5fcmF0aW8gPSAwLjYxODAzMzk4ODc0OTg5NVxuICAgICAgdmFyIHI9TWF0aC5yYW5kb20oKVxuICAgICAgciArPSBnb2xkZW5fcmF0aW9cbiAgICAgIHIgJT0gMVxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IocmFuZ2VbMF0gKyByKihyYW5nZVsxXSArIDEgLSByYW5nZVswXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL1NlZWRlZCByYW5kb20gYWxnb3JpdGhtIGZyb20gaHR0cDovL2luZGllZ2Ftci5jb20vZ2VuZXJhdGUtcmVwZWF0YWJsZS1yYW5kb20tbnVtYmVycy1pbi1qcy9cbiAgICAgIHZhciBtYXggPSByYW5nZVsxXSB8fCAxO1xuICAgICAgdmFyIG1pbiA9IHJhbmdlWzBdIHx8IDA7XG4gICAgICBzZWVkID0gKHNlZWQgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwO1xuICAgICAgdmFyIHJuZCA9IHNlZWQgLyAyMzMyODAuMDtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKG1pbiArIHJuZCAqIChtYXggLSBtaW4pKTtcbn1cbiAgfVxuXG4gIGZ1bmN0aW9uIEhTVnRvSGV4IChoc3Ype1xuXG4gICAgdmFyIHJnYiA9IEhTVnRvUkdCKGhzdik7XG5cbiAgICBmdW5jdGlvbiBjb21wb25lbnRUb0hleChjKSB7XG4gICAgICAgIHZhciBoZXggPSBjLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgcmV0dXJuIGhleC5sZW5ndGggPT0gMSA/ICcwJyArIGhleCA6IGhleDtcbiAgICB9XG5cbiAgICB2YXIgaGV4ID0gJyMnICsgY29tcG9uZW50VG9IZXgocmdiWzBdKSArIGNvbXBvbmVudFRvSGV4KHJnYlsxXSkgKyBjb21wb25lbnRUb0hleChyZ2JbMl0pO1xuXG4gICAgcmV0dXJuIGhleDtcblxuICB9XG5cbiAgZnVuY3Rpb24gZGVmaW5lQ29sb3IgKG5hbWUsIGh1ZVJhbmdlLCBsb3dlckJvdW5kcykge1xuXG4gICAgdmFyIHNNaW4gPSBsb3dlckJvdW5kc1swXVswXSxcbiAgICAgICAgc01heCA9IGxvd2VyQm91bmRzW2xvd2VyQm91bmRzLmxlbmd0aCAtIDFdWzBdLFxuXG4gICAgICAgIGJNaW4gPSBsb3dlckJvdW5kc1tsb3dlckJvdW5kcy5sZW5ndGggLSAxXVsxXSxcbiAgICAgICAgYk1heCA9IGxvd2VyQm91bmRzWzBdWzFdO1xuXG4gICAgY29sb3JEaWN0aW9uYXJ5W25hbWVdID0ge1xuICAgICAgaHVlUmFuZ2U6IGh1ZVJhbmdlLFxuICAgICAgbG93ZXJCb3VuZHM6IGxvd2VyQm91bmRzLFxuICAgICAgc2F0dXJhdGlvblJhbmdlOiBbc01pbiwgc01heF0sXG4gICAgICBicmlnaHRuZXNzUmFuZ2U6IFtiTWluLCBiTWF4XVxuICAgIH07XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRDb2xvckJvdW5kcyAoKSB7XG5cbiAgICBkZWZpbmVDb2xvcihcbiAgICAgICdtb25vY2hyb21lJyxcbiAgICAgIG51bGwsXG4gICAgICBbWzAsMF0sWzEwMCwwXV1cbiAgICApO1xuXG4gICAgZGVmaW5lQ29sb3IoXG4gICAgICAncmVkJyxcbiAgICAgIFstMjYsMThdLFxuICAgICAgW1syMCwxMDBdLFszMCw5Ml0sWzQwLDg5XSxbNTAsODVdLFs2MCw3OF0sWzcwLDcwXSxbODAsNjBdLFs5MCw1NV0sWzEwMCw1MF1dXG4gICAgKTtcblxuICAgIGRlZmluZUNvbG9yKFxuICAgICAgJ29yYW5nZScsXG4gICAgICBbMTksNDZdLFxuICAgICAgW1syMCwxMDBdLFszMCw5M10sWzQwLDg4XSxbNTAsODZdLFs2MCw4NV0sWzcwLDcwXSxbMTAwLDcwXV1cbiAgICApO1xuXG4gICAgZGVmaW5lQ29sb3IoXG4gICAgICAneWVsbG93JyxcbiAgICAgIFs0Nyw2Ml0sXG4gICAgICBbWzI1LDEwMF0sWzQwLDk0XSxbNTAsODldLFs2MCw4Nl0sWzcwLDg0XSxbODAsODJdLFs5MCw4MF0sWzEwMCw3NV1dXG4gICAgKTtcblxuICAgIGRlZmluZUNvbG9yKFxuICAgICAgJ2dyZWVuJyxcbiAgICAgIFs2MywxNzhdLFxuICAgICAgW1szMCwxMDBdLFs0MCw5MF0sWzUwLDg1XSxbNjAsODFdLFs3MCw3NF0sWzgwLDY0XSxbOTAsNTBdLFsxMDAsNDBdXVxuICAgICk7XG5cbiAgICBkZWZpbmVDb2xvcihcbiAgICAgICdibHVlJyxcbiAgICAgIFsxNzksIDI1N10sXG4gICAgICBbWzIwLDEwMF0sWzMwLDg2XSxbNDAsODBdLFs1MCw3NF0sWzYwLDYwXSxbNzAsNTJdLFs4MCw0NF0sWzkwLDM5XSxbMTAwLDM1XV1cbiAgICApO1xuXG4gICAgZGVmaW5lQ29sb3IoXG4gICAgICAncHVycGxlJyxcbiAgICAgIFsyNTgsIDI4Ml0sXG4gICAgICBbWzIwLDEwMF0sWzMwLDg3XSxbNDAsNzldLFs1MCw3MF0sWzYwLDY1XSxbNzAsNTldLFs4MCw1Ml0sWzkwLDQ1XSxbMTAwLDQyXV1cbiAgICApO1xuXG4gICAgZGVmaW5lQ29sb3IoXG4gICAgICAncGluaycsXG4gICAgICBbMjgzLCAzMzRdLFxuICAgICAgW1syMCwxMDBdLFszMCw5MF0sWzQwLDg2XSxbNjAsODRdLFs4MCw4MF0sWzkwLDc1XSxbMTAwLDczXV1cbiAgICApO1xuXG4gIH1cblxuICBmdW5jdGlvbiBIU1Z0b1JHQiAoaHN2KSB7XG5cbiAgICAvLyB0aGlzIGRvZXNuJ3Qgd29yayBmb3IgdGhlIHZhbHVlcyBvZiAwIGFuZCAzNjBcbiAgICAvLyBoZXJlJ3MgdGhlIGhhY2t5IGZpeFxuICAgIHZhciBoID0gaHN2WzBdO1xuICAgIGlmIChoID09PSAwKSB7aCA9IDE7fVxuICAgIGlmIChoID09PSAzNjApIHtoID0gMzU5O31cblxuICAgIC8vIFJlYmFzZSB0aGUgaCxzLHYgdmFsdWVzXG4gICAgaCA9IGgvMzYwO1xuICAgIHZhciBzID0gaHN2WzFdLzEwMCxcbiAgICAgICAgdiA9IGhzdlsyXS8xMDA7XG5cbiAgICB2YXIgaF9pID0gTWF0aC5mbG9vcihoKjYpLFxuICAgICAgZiA9IGggKiA2IC0gaF9pLFxuICAgICAgcCA9IHYgKiAoMSAtIHMpLFxuICAgICAgcSA9IHYgKiAoMSAtIGYqcyksXG4gICAgICB0ID0gdiAqICgxIC0gKDEgLSBmKSpzKSxcbiAgICAgIHIgPSAyNTYsXG4gICAgICBnID0gMjU2LFxuICAgICAgYiA9IDI1NjtcblxuICAgIHN3aXRjaChoX2kpIHtcbiAgICAgIGNhc2UgMDogciA9IHY7IGcgPSB0OyBiID0gcDsgIGJyZWFrO1xuICAgICAgY2FzZSAxOiByID0gcTsgZyA9IHY7IGIgPSBwOyAgYnJlYWs7XG4gICAgICBjYXNlIDI6IHIgPSBwOyBnID0gdjsgYiA9IHQ7ICBicmVhaztcbiAgICAgIGNhc2UgMzogciA9IHA7IGcgPSBxOyBiID0gdjsgIGJyZWFrO1xuICAgICAgY2FzZSA0OiByID0gdDsgZyA9IHA7IGIgPSB2OyAgYnJlYWs7XG4gICAgICBjYXNlIDU6IHIgPSB2OyBnID0gcDsgYiA9IHE7ICBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gW01hdGguZmxvb3IocioyNTUpLCBNYXRoLmZsb29yKGcqMjU1KSwgTWF0aC5mbG9vcihiKjI1NSldO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBIZXhUb0hTQiAoaGV4KSB7XG4gICAgaGV4ID0gaGV4LnJlcGxhY2UoL14jLywgJycpO1xuICAgIGhleCA9IGhleC5sZW5ndGggPT09IDMgPyBoZXgucmVwbGFjZSgvKC4pL2csICckMSQxJykgOiBoZXg7XG5cbiAgICB2YXIgcmVkID0gcGFyc2VJbnQoaGV4LnN1YnN0cigwLCAyKSwgMTYpIC8gMjU1LFxuICAgICAgICAgIGdyZWVuID0gcGFyc2VJbnQoaGV4LnN1YnN0cigyLCAyKSwgMTYpIC8gMjU1LFxuICAgICAgICAgIGJsdWUgPSBwYXJzZUludChoZXguc3Vic3RyKDQsIDIpLCAxNikgLyAyNTU7XG5cbiAgICB2YXIgY01heCA9IE1hdGgubWF4KHJlZCwgZ3JlZW4sIGJsdWUpLFxuICAgICAgICAgIGRlbHRhID0gY01heCAtIE1hdGgubWluKHJlZCwgZ3JlZW4sIGJsdWUpLFxuICAgICAgICAgIHNhdHVyYXRpb24gPSBjTWF4ID8gKGRlbHRhIC8gY01heCkgOiAwO1xuXG4gICAgc3dpdGNoIChjTWF4KSB7XG4gICAgICBjYXNlIHJlZDogcmV0dXJuIFsgNjAgKiAoKChncmVlbiAtIGJsdWUpIC8gZGVsdGEpICUgNikgfHwgMCwgc2F0dXJhdGlvbiwgY01heCBdO1xuICAgICAgY2FzZSBncmVlbjogcmV0dXJuIFsgNjAgKiAoKChibHVlIC0gcmVkKSAvIGRlbHRhKSArIDIpIHx8IDAsIHNhdHVyYXRpb24sIGNNYXggXTtcbiAgICAgIGNhc2UgYmx1ZTogcmV0dXJuIFsgNjAgKiAoKChyZWQgLSBncmVlbikgLyBkZWx0YSkgKyA0KSB8fCAwLCBzYXR1cmF0aW9uLCBjTWF4IF07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gSFNWdG9IU0wgKGhzdikge1xuICAgIHZhciBoID0gaHN2WzBdLFxuICAgICAgcyA9IGhzdlsxXS8xMDAsXG4gICAgICB2ID0gaHN2WzJdLzEwMCxcbiAgICAgIGsgPSAoMi1zKSp2O1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIGgsXG4gICAgICBNYXRoLnJvdW5kKHMqdiAvIChrPDEgPyBrIDogMi1rKSAqIDEwMDAwKSAvIDEwMCxcbiAgICAgIGsvMiAqIDEwMFxuICAgIF07XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpbmdUb0ludGVnZXIgKHN0cmluZykge1xuICAgIHZhciB0b3RhbCA9IDBcbiAgICBmb3IgKHZhciBpID0gMDsgaSAhPT0gc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodG90YWwgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIGJyZWFrO1xuICAgICAgdG90YWwgKz0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsXG4gIH1cblxuICAvLyBnZXQgVGhlIHJhbmdlIG9mIGdpdmVuIGh1ZSB3aGVuIG9wdGlvbnMuY291bnQhPTBcbiAgZnVuY3Rpb24gZ2V0UmVhbEh1ZVJhbmdlKGNvbG9ySHVlKVxuICB7IGlmICghaXNOYU4oY29sb3JIdWUpKSB7XG4gICAgdmFyIG51bWJlciA9IHBhcnNlSW50KGNvbG9ySHVlKTtcblxuICAgIGlmIChudW1iZXIgPCAzNjAgJiYgbnVtYmVyID4gMCkge1xuICAgICAgcmV0dXJuIGdldENvbG9ySW5mbyhjb2xvckh1ZSkuaHVlUmFuZ2VcbiAgICB9XG4gIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY29sb3JIdWUgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgIGlmIChjb2xvckRpY3Rpb25hcnlbY29sb3JIdWVdKSB7XG4gICAgICAgIHZhciBjb2xvciA9IGNvbG9yRGljdGlvbmFyeVtjb2xvckh1ZV07XG5cbiAgICAgICAgaWYgKGNvbG9yLmh1ZVJhbmdlKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yLmh1ZVJhbmdlXG4gICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29sb3JIdWUubWF0Y2goL14jPyhbMC05QS1GXXszfXxbMC05QS1GXXs2fSkkL2kpKSB7XG4gICAgICAgIHZhciBodWUgPSBIZXhUb0hTQihjb2xvckh1ZSlbMF1cbiAgICAgICAgcmV0dXJuIGdldENvbG9ySW5mbyhodWUpLmh1ZVJhbmdlXG4gICAgfVxuICB9XG5cbiAgICByZXR1cm4gWzAsMzYwXVxufVxuICByZXR1cm4gcmFuZG9tQ29sb3I7XG59KSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IERhdGVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICogfSwgXy5ub3coKSk7XG4gKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICovXG52YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByb290LkRhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHJlc3VsdCA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4ocmVzdWx0LCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gKlxuICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG4gIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGhyb3R0bGU7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9